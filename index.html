<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>๐งฉ ุชุญุฏูู ุงูุฃูุบุงุฒ - ุงุฎุชุฑ ุงูุตุญ</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK (must be loaded before our script) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <div class="game-container">
        <!-- ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
        <div id="start-screen" class="screen active fade-in">
            <h1 class="glow">๐งฉ ุชุญุฏูู ุงูุฃูุบุงุฒ</h1>
            <h2>ุงุฎุชุฑ ุงูุตุญ</h2>
            <div id="user-info" style="text-align: center; color: white; margin-bottom: 10px;"></div>
            <button class="btn primary pulse" onclick="startChallenge()">๐ ุงุจุฏุฃ ุงูุชุญุฏูู</button>
            <button class="btn secondary" onclick="showCategoryScreen()">๐ ุงุฎุชูุงุฑ ุงููุฆุฉ</button>
            <button class="btn secondary" onclick="showLevelScreen()">๐ ุงููุณุชููุงุช</button>
            <button class="btn secondary" onclick="showHighScores()">๐ ุฃูุถู ุงููุชุงุฆุฌ</button>
            <button class="btn accent" id="auth-button" onclick="showAuthScreen()">๐ ุชุณุฌูู ุงูุฏุฎูู</button>
        </div>

        <!-- ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู -->
        <div id="auth-screen" class="screen fade-in">
            <h2>๐ ุชุณุฌูู ุงูุฏุฎูู / ุฅูุดุงุก ุญุณุงุจ</h2>
            <div id="auth-message" style="color: #ffd166; text-align: center; margin-bottom: 10px;"></div>
            <form id="auth-form" onsubmit="event.preventDefault(); handleAuth();">
                <input type="email" id="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required style="width:100%; padding:15px; margin-bottom:15px; border-radius:40px; border:1px solid #4a5568; background:#2d3748; color:white; font-size:1rem;">
                <input type="password" id="password" placeholder="ูููุฉ ุงููุฑูุฑ" required style="width:100%; padding:15px; margin-bottom:15px; border-radius:40px; border:1px solid #4a5568; background:#2d3748; color:white; font-size:1rem;">
                <button type="submit" class="btn primary" id="auth-action">ุชุณุฌูู ุงูุฏุฎูู</button>
                <button type="button" class="btn secondary" onclick="toggleAuthMode()">๐ ุงูุชุจุฏูู ุฅูู ุฅูุดุงุก ุญุณุงุจ</button>
            </form>
            <button class="btn danger" onclick="goBackToStart()">๐ ุฑุฌูุน</button>
        </div>

        <!-- ุดุงุดุฉ ุงุฎุชูุงุฑ ุงููุฆุฉ -->
        <div id="category-screen" class="screen fade-in">
            <h2>๐ ุงุฎุชุฑ ุงููุฆุฉ</h2>
            <div id="categories-container" class="grid-2"></div>
            <button class="btn danger" onclick="goBackToStart()">๐ ุฑุฌูุน</button>
        </div>

        <!-- ุดุงุดุฉ ุงุฎุชูุงุฑ ุงููุณุชูู -->
        <div id="level-screen" class="screen fade-in">
            <h2>๐ ุงุฎุชุฑ ุงููุณุชูู</h2>
            <div id="levels-container" class="grid-2"></div>
            <button class="btn danger" onclick="goBackToCategories()">๐ ุฑุฌูุน</button>
        </div>

        <!-- ุดุงุดุฉ ุงููุนุจ -->
        <div id="game-screen" class="screen fade-in">
            <div class="header-info">
                <div class="hearts" id="hearts-container"></div>
                <span class="score" id="score-display">0 ููุทุฉ</span>
                <div class="timer-circle">
                    <span id="timer-display">20</span>
                </div>
            </div>
            <div id="question-counter" class="question-counter">ุงูุณุคุงู 1 / 10</div>
            <div class="riddle-text" id="riddle-text"></div>
            <div class="choices" id="choices-container"></div>
            <div id="explanation-container" style="display: none;" class="explanation-box">
                <div class="explanation" id="explanation-text"></div>
                <button class="next-btn" id="next-btn" onclick="nextQuestion()">โก๏ธ ุงูุชุงูู</button>
            </div>
            <div class="game-controls">
                <button class="btn danger" onclick="endGameEarly()">โน๏ธ ุฅููุงุก ุงููุฑุญูุฉ</button>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงูููุงูุฉ -->
        <div id="end-screen" class="screen fade-in">
            <h2>๐ ููุงูุฉ ุงููุฑุญูุฉ</h2>
            <div class="result-stars" id="stars-container"></div>
            <div class="result-stats" id="result-stats"></div>
            <button class="btn primary" onclick="restartLevel()">๐ ุฅุนุงุฏุฉ ุงููุฑุญูุฉ</button>
            <button class="btn secondary" onclick="goToLevelSelect()">๐ ุงุฎุชูุงุฑ ูุณุชูู ุขุฎุฑ</button>
            <button class="btn accent" onclick="goToStart()">๐ ุงูุฑุฆูุณูุฉ</button>
        </div>

        <!-- ุดุงุดุฉ ุนุฑุถ ุฃูุถู ุงููุชุงุฆุฌ -->
        <div id="highscores-screen" class="screen fade-in">
            <h2>๐ ุฃูุถู ุงููุชุงุฆุฌ</h2>
            <div id="highscores-list" style="background: rgba(0,0,0,0.3); border-radius: 30px; padding: 20px; color: white; margin: 20px 0;"></div>
            <button class="btn danger" onclick="goBackToStart()">๐ ุฑุฌูุน</button>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
